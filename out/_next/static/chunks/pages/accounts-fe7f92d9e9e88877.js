(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[778],{1039:function(e,r,t){!function(e,r,t){"use strict";var n=t&&"object"==typeof t&&"default"in t?t:{default:t};function u(e,r,t){"function"==typeof e?(u=r||[],s=t):(u=[],s=r);var u,s,o=n.default.useRef({hasResult:!1,result:s,error:null}),i=n.default.useReducer(function(e){return e+1},0);i[0];var a=i[1],c=n.default.useMemo(function(){var r="function"==typeof e?e():e;if(!r||"function"!=typeof r.subscribe){if(e===r)throw TypeError("Given argument to useObservable() was neither a valid observable nor a function.");throw TypeError("Observable factory given to useObservable() did not return a valid observable.")}if(!o.current.hasResult&&"undefined"!=typeof window){if("function"==typeof r.getValue)o.current.result=r.getValue(),o.current.hasResult=!0;else{var t=r.subscribe(function(e){o.current.result=e,o.current.hasResult=!0});"function"==typeof t?t():t.unsubscribe()}}return r},u);if(n.default.useDebugValue(o.current.result),n.default.useEffect(function(){var e=c.subscribe(function(e){var r=o.current;(null!==r.error||r.result!==e)&&(r.error=null,r.result=e,r.hasResult=!0,a())},function(e){var r=o.current;r.error!==e&&(r.error=e,a())});return"function"==typeof e?e:e.unsubscribe.bind(e)},u),o.current.error)throw o.current.error;return o.current.result}e.useLiveQuery=function(e,t,n){return u(function(){return r.liveQuery(e)},t||[],n)},e.useObservable=u,e.usePermissions=function(e,t,n){var s;if(!e)throw TypeError("Invalid arguments to usePermissions(): undefined or null");if(arguments.length>=3){if(!("transaction"in e))throw TypeError("Invalid arguments to usePermission(db, table, obj): 1st arg must be a Dexie instance");if("string"!=typeof t)throw TypeError("Invalid arguments to usePermission(db, table, obj): 2nd arg must be string");if(!n||"object"!=typeof n)throw TypeError("Invalid arguments to usePermission(db, table, obj): 3rd arg must be an object");s=e}else{if(e instanceof r.Dexie)throw TypeError("Invalid arguments to usePermission(db, table, obj): Missing table and obj arguments.");if("function"==typeof e.table&&"object"==typeof e.db)s=e.db,n=e,t=e.table();else throw TypeError("Invalid arguments to usePermissions(). Expected usePermissions(entity: DexieCloudEntity) or usePermissions(db: Dexie, table: string, obj: DexieCloudObject)")}if(!("cloud"in s))throw Error("usePermissions() is only for Dexie Cloud but there's no dexie-cloud-addon active in given db.");if(!("permissions"in s.cloud))throw Error("usePermissions() requires a newer version of dexie-cloud-addon. Please upgrade it.");return u(function(){return s.cloud.permissions(n,t)},[n.realmId,n.owner,t])},Object.defineProperty(e,"__esModule",{value:!0})}(r,t(9520),t(7294))},1091:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/accounts",function(){return t(2709)}])},6873:function(e,r,t){"use strict";t.d(r,{L6:function(){return i},Nt:function(){return o},op:function(){return s}});var n=t(9520);let u=new n.default("my-portfolio");u.version(1).stores({stocks:"ticker, name",accounts:"++id, name",transactions:"++id, type, ticker, accountId, date, description, shares, price, brokerage"});let s=u.table("stocks"),o=u.table("accounts"),i=u.table("transactions")},2709:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var n=t(5893),u=t(1664),s=t.n(u),o=t(1039),i=t(6873),a=t(7294);let c=()=>{let[e,r]=(0,a.useState)(""),t=(0,o.useLiveQuery)(()=>i.Nt.where("name").startsWithIgnoreCase(e).toArray(),[e]);return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"Accounts"}),"name: ",(0,n.jsx)("input",{title:"Search",type:"text",value:e,onChange:e=>r(e.target.value)}),(0,n.jsx)("ul",{children:null==t?void 0:t.map(e=>(0,n.jsx)("li",{children:e.name},e.id))})]})};var l=function(){return(0,n.jsxs)("div",{children:[(0,n.jsx)(s(),{href:"accounts/create",children:"Create account"}),(0,n.jsx)(c,{})]})}}},function(e){e.O(0,[774,520,664,888,179],function(){return e(e.s=1091)}),_N_E=e.O()}]);